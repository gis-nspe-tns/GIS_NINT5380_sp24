<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.2.280">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="dcterms.date" content="2024-02-10">

<title>Class 4 Assignment: Thematic Mapping Part II: Mapping US Census Data</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
</style>


<script src="c4_assignment_sp_24_NINT5380_files/libs/clipboard/clipboard.min.js"></script>
<script src="c4_assignment_sp_24_NINT5380_files/libs/quarto-html/quarto.js"></script>
<script src="c4_assignment_sp_24_NINT5380_files/libs/quarto-html/popper.min.js"></script>
<script src="c4_assignment_sp_24_NINT5380_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="c4_assignment_sp_24_NINT5380_files/libs/quarto-html/anchor.min.js"></script>
<link href="c4_assignment_sp_24_NINT5380_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="c4_assignment_sp_24_NINT5380_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="c4_assignment_sp_24_NINT5380_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="c4_assignment_sp_24_NINT5380_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="c4_assignment_sp_24_NINT5380_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<style>html{ scroll-behavior: smooth; }</style>


<link rel="stylesheet" href="c4_assignment_sp_24_NINT5380_files/styles.css">
</head>

<body>

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">
<div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
  <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#class-4-assignment-thematic-mapping-part-ii-mapping-us-census-data" id="toc-class-4-assignment-thematic-mapping-part-ii-mapping-us-census-data" class="nav-link active" data-scroll-target="#class-4-assignment-thematic-mapping-part-ii-mapping-us-census-data">Class 4 Assignment: Thematic Mapping Part II: Mapping US Census Data</a></li>
  <li><a href="#concepts-themes" id="toc-concepts-themes" class="nav-link" data-scroll-target="#concepts-themes">Concepts &amp; Themes:</a></li>
  <li><a href="#class-4-links" id="toc-class-4-links" class="nav-link" data-scroll-target="#class-4-links">Class 4 Links:</a></li>
  <li><a href="#class-4-assignment-links" id="toc-class-4-assignment-links" class="nav-link" data-scroll-target="#class-4-assignment-links">Class 4 Assignment Links:</a></li>
  <li><a href="#class-4-readings" id="toc-class-4-readings" class="nav-link" data-scroll-target="#class-4-readings">Class 4 Readings:</a></li>
  <li><a href="#assignment-preamble" id="toc-assignment-preamble" class="nav-link" data-scroll-target="#assignment-preamble">Assignment Preamble:</a></li>
  <li><a href="#class-4-assignment-overview" id="toc-class-4-assignment-overview" class="nav-link" data-scroll-target="#class-4-assignment-overview">Class 4 Assignment Overview:</a></li>
  <li><a href="#assignment-4-steps-outline" id="toc-assignment-4-steps-outline" class="nav-link" data-scroll-target="#assignment-4-steps-outline">Assignment 4 Steps Outline:</a></li>
  <li><a href="#assignment-deliverable" id="toc-assignment-deliverable" class="nav-link" data-scroll-target="#assignment-deliverable">Assignment Deliverable:</a></li>
  <li><a href="#class-4-extra-credit-mapping" id="toc-class-4-extra-credit-mapping" class="nav-link" data-scroll-target="#class-4-extra-credit-mapping">Class 4 Extra Credit Mapping:</a>
  <ul class="collapse">
  <li><a href="#video-guide" id="toc-video-guide" class="nav-link" data-scroll-target="#video-guide">Video Guide:</a></li>
  </ul></li>
  <li><a href="#further-reference" id="toc-further-reference" class="nav-link" data-scroll-target="#further-reference">Further Reference:</a></li>
  </ul>
</nav>
</div>
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Class 4 Assignment: Thematic Mapping Part II: Mapping US Census Data</h1>
<p class="subtitle lead">Spring 2024 | <a href="https://courses.newschool.edu/courses/NINT5380">NINT5380 CRN2115</a></p>
</div>



<div class="quarto-title-meta">

    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">February 10, 2024</p>
    </div>
  </div>
  
    
  </div>
  

</header>

<section id="class-4-assignment-thematic-mapping-part-ii-mapping-us-census-data" class="level2">
<h2 class="anchored" data-anchor-id="class-4-assignment-thematic-mapping-part-ii-mapping-us-census-data">Class 4 Assignment: Thematic Mapping Part II: Mapping US Census Data</h2>
<p><img src="https://i.imgur.com/cZcBLTm.jpg" class="img-fluid" alt="North America Thematic Maps"> Source: <em>https://www.davidrumsey.com/luna/servlet/detail/RUMSEY<sub>8</sub>1<sub>243578</sub>5513495:North-America-Thematic-Maps-</em></p>
</section>
<section id="concepts-themes" class="level2">
<h2 class="anchored" data-anchor-id="concepts-themes">Concepts &amp; Themes:</h2>
<p>This week’s assignment will encompass the following concepts covered in <strong>Class 4</strong> lecture &amp; demonstration lab:</p>
<ul>
<li>Thematic mapping purposes &amp; methods</li>
<li>Ecological fallacies &amp; thematic design pitfalls</li>
<li>Choropleth mapping</li>
<li>Classification techniques</li>
<li>Areal unit and population normalization</li>
</ul>
<p>Specific techniques covered this week will include:</p>
<ul>
<li>Thematic techniques for effective map display</li>
<li>Tabular data joins</li>
<li>Normalization</li>
<li>Thematic map outputs</li>
<li>Histograms &amp; statistics</li>
</ul>
</section>
<section id="class-4-links" class="level2">
<h2 class="anchored" data-anchor-id="class-4-links">Class 4 Links:</h2>
<ul>
<li><a href="https://gis-nspe-tns.github.io/GIS_NINT5380_sp24/agendas/c4_agenda_sp_24_NINT5380.html">Agenda</a></li>
<li><a href="https://gis-nspe-tns.github.io/GIS_NINT5380_sp24/demos/c4.lecture.demo.html">Lecture Demonstration</a></li>
<li><a href="https://gis-nspe-tns.github.io/GIS_NINT5380_sp24/lectures/lecture.4/index.html">Lecture 4</a></li>
<li><a href="https://gis-nspe-tns.github.io/GIS_NINT5380_sp24/assignments/c4_assignment_sp_24_NINT5380.html">Assignment 4</a></li>
<li><a href="https://weekly-submissions.s3.amazonaws.com/c3_sp24_submissions.pdf">Class 3 Submissions Review</a></li>
</ul>
</section>
<section id="class-4-assignment-links" class="level2">
<h2 class="anchored" data-anchor-id="class-4-assignment-links">Class 4 Assignment Links:</h2>
<ul>
<li><p><a href="https://gis-nspe-tns.github.io/GIS_NINT5380_sp24/demos/c4.lecture.demo.html">Class 4 Demonstration Lab Materials</a></p></li>
<li><p><a href="https://weekly-materials.s3-us-west-1.amazonaws.com/c4.map.example.pdf">Assignment Map example</a></p></li>
</ul>
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p>The map example layout in the Assignment Map Example applies to both the primary and extra credit options of the assignment. Note that the map theme shown in the example map is applicable to the extra credit component of this week’s assignment.</p>
</div>
</div>
</section>
<section id="class-4-readings" class="level2">
<h2 class="anchored" data-anchor-id="class-4-readings">Class 4 Readings:</h2>
<p>The Class 4 quiz (10/02/2023 - Monday) will features 10 questions covering content in the textbook <strong>Chapter 4</strong> and <strong>Chapter 5</strong> as noted below:</p>
<ul>
<li>Essentials of Geographic Information Systems textbook - <strong>Chapter 4, Section 4.4 Cartographic Data Classification - pages 85 - 90</strong>.</li>
</ul>
<p><br></p>
<ul>
<li>Essentials of Geographic Information Systems textbook - <strong>Chapter 5, Section 5.1 Geographic Data Acquisition - pages 91 - 93</strong>.
<ul>
<li>Read Section <strong>Attribute Data Types</strong>.</li>
<li>Read Section <strong>Measurement Scale</strong>.</li>
</ul></li>
</ul>
<p>Supplemental readings: SQL cheatsheet (Not necessary for Class 4 assignment; good for general reference) Normalizing Census Data Normalizing Census Data Formulas</p>
<ul>
<li><a href="https://www.dropbox.com/s/y8b3ld3vkrixobn/c4.supplemental.readings.zip?dl=1">Supplemental Readings Download</a></li>
</ul>
<p>Below are links to further readings for those interested in the United States political dimension of ‘MAUP’, Gerrymandering and a divided US electorate:</p>
<ul>
<li><a href="https://www.aclu.org/sites/default/files/field_document/2010_REDISTRICTING_GUIDE_web_0.pdf">ACLU Redistricting Guide</a></li>
<li><a href="https://cdn.azavea.com/com.redistrictingthenation/pdfs/Redistricting_The_Nation_White_Paper_2010.pdf">Azavea’s National Redistricting White Paper</a></li>
<li><a href="https://www.indyweek.com/indyweek/cracked-stacked-and-packed-initial-redistricting-maps-met-with-skepticism-and-dismay/Content?oid=2583046">Cracked, stacked and packed: Initial redistricting maps met with skepticism and dismay</a></li>
<li><a href="https://drive.google.com/file/d/0B1PyaqDAiuIqOTJDZHJRZXBVSlk/view?usp=sharing">Supreme Court to hear potentially landmark case on partisan gerrymandering</a></li>
<li><a href="https://medium.com/equal-future/when-drawing-a-line-is-hard-8d92d30c9044">When drawing a line is hard - Connecting the dots between math, technology, and law in the challenges of gerrymandering</a></li>
</ul>
</section>
<section id="assignment-preamble" class="level2">
<h2 class="anchored" data-anchor-id="assignment-preamble">Assignment Preamble:</h2>
<p>In this ‘Part II’ thematic mapping assignment, we will utilize the symbolization concepts of Class 3, applying them forward to Choropleth Mapping for US Census Data. This week’s assignment will feature an optional <em>Extra Credit</em> component in which you would pick your own theme coupled with your own scale of geography, both different from the primary assignment.</p>
<ul>
<li><p>General concepts covered in <strong>Class 4 Assignment - Thematic Mapping with US Census Data </strong>:</p>
<ol type="1">
<li>Connecting data sources - ESRI <code>.gdb</code></li>
<li>OTF - ‘on the fly’ projections for project file (not layers per se)</li>
<li>Table joins</li>
<li>Data dictionary</li>
<li>Normalization of populations</li>
<li>Creating geometry for features (in preparation of sq. area normalizations)</li>
<li>Exporting/saving joined data</li>
<li>Classification methods for mapped census data</li>
<li>Basic statistics for census theme</li>
</ol></li>
</ul>
</section>
<section id="class-4-assignment-overview" class="level2">
<h2 class="anchored" data-anchor-id="class-4-assignment-overview">Class 4 Assignment Overview:</h2>
<ul>
<li>For this assignment submission, utilize the data process from the <a href="https://gis-nspe-tns.github.io/GIS_NINT5380_sp24/demos/c4.lecture.demo.html">Class 4 Demonstration Lab</a> to get started.</li>
</ul>
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p>This week will feature a <code>CRS</code> ‘on the fly projection’ transformation to achieve a better map ‘shape’ for the required assignment map. The image below shows an equal area projection vs.&nbsp;the default <code>WGS84</code> projection. The image source is linked to an article that discusses these differences further.</p>
</div>
</div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://i.imgur.com/jOuQryr.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption"><em>Map Project Options Suitable for US Contiguous States</em></figcaption><p></p>
</figure>
</div>
<p>Source: <em>https://source.opennews.org/articles/choosing-right-map-projection/</em></p>
<ul>
<li><p>In this assignment, one thematic map for contiguous United States (lower 48 states) based on a demographic variable derived from the American Community Survey 2020 data <code>ACS_2020_5YR_County</code> (5-year estimates from the 2016-2020 ACS) will be developed. This will require a two-step process: access and prepare the data, followed by a classified mapping of the data.</p></li>
<li><p>The top grade for this map will be 90 points. There is an extra credit component for the additional 10 points. The video guide towards end of assignment will guide you through an example for the extra credit component using the age+sex table.</p></li>
</ul>
<p>The video guide for this assignment will not cover the cartographic design elements covered in previous classes; make sure to use all the cartography skills you learned to enhance this week’s deliverable - legend, inserts (consider including Alaska and Hawaii and Puerto Rico as map inserts - an example <a href="https://i.pinimg.com/736x/4f/7e/f7/4f7ef757a00b6baf30deec7733228444--maps-history-world-maps.jpg">HERE</a>, map titling and data sourcing. Scale bars and north arrows are often not essential for effective thematic mapping- use them sparingly, if at all, when producing thematic maps.</p>
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p>Including map insets for Hawaii, Alaska, Puerto Rico and other county census geographies not in the lower 48 is <strong>not</strong> required of this assignment - only if you prefer to add them to your map layout.</p>
</div>
</div>
</section>
<section id="assignment-4-steps-outline" class="level2">
<h2 class="anchored" data-anchor-id="assignment-4-steps-outline">Assignment 4 Steps Outline:</h2>
<ol type="1">
<li><p><strong>Navigate</strong> to data and download bundled product <code>TIGER/Line with Selected Demographic and Economic Data</code> via the following link:</p>
<ul>
<li><a href="https://www.census.gov/geographies/mapping-files/time-series/geo/tiger-data.2020.html#list-tab-8D0FFIBS8PJO7C8Z1I">US Census ‘bundled’ product</a></li>
</ul></li>
</ol>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://i.imgur.com/2ThMZwh.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption"><em>US Census ACS <code>.gdb</code> product</em></figcaption><p></p>
</figure>
</div>
<hr>
<ol start="2" type="1">
<li><strong>Utilize</strong> <code>American Community Survey 5-Year Estimates — Geodatabase Format 2016-2020</code></li>
</ol>
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p>There is also a 2021 version of the American Community Survey 5-Year Estimates; you are welcome to use this version for both the primary and extra credit mapping in place of the previous 2020 version. This 2021 version is located <a href="https://www.census.gov/geographies/mapping-files/time-series/geo/tiger-data.2021.html#list-tab-1656998034">HERE</a>.</p>
</div>
</div>
<hr>
<ol start="3" type="1">
<li><strong>Select County &gt; Download Data</strong>:</li>
</ol>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://i.imgur.com/71Vn1xs.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption"><em>Download Census Data</em></figcaption><p></p>
</figure>
</div>
<hr>
<ol start="4" type="1">
<li>Unzip the resulting product <code>ACS_2020_5YR_COUNTY.gdb.zip</code>. make sure to keep the resulting directory with folder extension intact: <code>ACS_2020_5YR_COUNTY.gdb</code>:</li>
</ol>
<p><a href="https://i.imgur.com/0DgJorD.png"><em><code>.gdb</code> format</em></a></p>
<hr>
<ol start="5" type="1">
<li>At this juncture, all the tables as well as geometry that are located in the <code>.gdb</code> are available for import into QGIS. However, we only need the geometry for the county boundaries plus one theme - for this mapping, we will use the <em>Total Population</em> from the <em>Age and Sex</em> theme.</li>
</ol>
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p>This is an estimate of the total population, but for our purposes a good approximation. The census derives total population estimates within the ACS product via a process known as <a href="https://www.census.gov/programs-surveys/sipp/methodology/data-editing-and-imputation.html">Imputation</a>.</p>
</div>
</div>
<p>With <em>population counts</em> secured, we will then derive a population density estimate per county in the final mapping. This process is <em>Normalization by Geography</em>; that is, we are using population counts and normalizing those by county areal size. This is a <em>different</em> normalization process than <em>Normalization by Population</em> inside a census theme.</p>
<p>We need to know which table to import. To do this, we utilize an online html document - <a href="https://api.census.gov/data/2020/acs/acs5/variables.html">ACS variables 2020</a> that lists all the acs tables and their themes. There are over 64,000 variables in this dataset, so isolating the correct table is an essential first step.</p>
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p>The 2021 version is located <a href="https://api.census.gov/data/2021/acs/acs5/variables.html">HERE</a></p>
</div>
</div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://i.imgur.com/5gUgrOX.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption">ACS Variables and their Concepts listed via API</figcaption><p></p>
</figure>
</div>
<p><em>source: https://api.census.gov/data/2020/acs/acs5/variables.html</em></p>
<p>Alternatively, we can import the <code>COUNTY_METADATA_2020</code> tabular data and view within QGIS.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://i.imgur.com/IHHzu84.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption"><code>COUNTY_METADATA_2020</code></figcaption><p></p>
</figure>
</div>
<hr>
<ol start="6" type="1">
<li><p>For the assignment mapping, we will use the <code>SEX BY AGE</code> table <code>B01001</code>. Here we will use just the first variable, which is the total population estimate per county - <code>B01001e1</code>:</p>
<ul>
<li><code>B01001e1|SEX BY AGE - Universe:  Total population - Total: -- (Estimate)</code></li>
</ul></li>
</ol>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://i.imgur.com/CLXaY5Q.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption"><em>Census Theme in QGIS Attribute Table</em></figcaption><p></p>
</figure>
</div>
<hr>
<ol start="7" type="1">
<li><strong>To proceed</strong>, Point QGIS to <code>.gdb</code> to begin mapping. We will discuss the <code>.gdb</code> format during Class 4 Lecture and Lab. Further, see video references at end of assignment for <code>.gdb</code> imports to QGIS.</li>
</ol>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://i.imgur.com/JdxZJUP.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption">Point QGIS to the <code>.gdb</code></figcaption><p></p>
</figure>
</div>
<p>Select both the geometry and table <code>B01001</code> - <code>SEX BY AGE</code>. This is also referred to as the <code>X01_AGE_AND_SEX</code> table:</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://i.imgur.com/yI6xMrW.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption">Select Geometry + Tabular Data</figcaption><p></p>
</figure>
</div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://i.imgur.com/PBRHPSY.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption"><em>Connect to <code>.gdb</code> - feature + tabular data</em></figcaption><p></p>
</figure>
</div>
<hr>
<ol start="8" type="1">
<li><strong>Next</strong>, the tabular data for <code>AGE AND SEX</code> will be exported as <code>.csv</code> outward from the <code>.gdb</code> structure. As this is done, the table will be ‘thinned’ to the just those variables needed for the mapping - the <code>OBJECTID</code>, <code>GEOID</code> and <code>B01001_001E</code> alone. Save the export as <code>acs.2020.population.csv</code> into the assignment project folder directory. Also state <code>No geometry</code> as geometry type:</li>
</ol>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://i.imgur.com/mPBRZOH.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption"><em>Table Structure</em></figcaption><p></p>
</figure>
</div>
<hr>
<ol start="9" type="1">
<li><strong>Next</strong>, import <code>acs.2020.population.csv</code> as delimited text:</li>
</ol>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://i.imgur.com/u2asaTL.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption"><em>Delimited Text as import file type</em></figcaption><p></p>
</figure>
</div>
<hr>
<ol start="10" type="1">
<li><strong>To gain</strong>, population density, we will use the total population divided by total square area of each county. The unit we will use will be square miles resulting in ‘Persons per Sq. Mile, per County’. We can either create the area of each county using the <strong>Field Calculator</strong>; or simply use the <code>ALAND</code> variable in the dataset which equates to square meters for each county. To calculate area units - <code>ALAND</code> as Square Miles - the following calculation is used:</li>
</ol>
<ul>
<li><code>1 sq. mile = 2,589,988.110336 meters</code></li>
<li><code>ALAND/2589988.110336</code></li>
</ul>
<hr>
<ol start="11" type="1">
<li><strong>To proceed</strong>, first export the geometry out from the <code>.gdb</code> to a .<code>shp</code> and title <code>acs.geo.shp</code>. Make sure NOT to change the coordinate system which is <code>NAD83 - EPSG:4269</code>:</li>
</ol>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://i.imgur.com/T0EzO2y.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption"><em><code>.shp</code> Export</em></figcaption><p></p>
</figure>
</div>
<hr>
<ol start="12" type="1">
<li><strong>Next</strong>, use the <strong>Step 6</strong> calculations above to create a new field <code>sq.mile</code> within the <code>acs.geo.shp</code>, not the tabular data.</li>
</ol>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://i.imgur.com/nlOZUnR.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption"><em>Field Calculator</em></figcaption><p></p>
</figure>
</div>
<hr>
<ol start="13" type="1">
<li><strong>Next</strong>, a table join will be enacted between the geometry <code>acs.geo</code> and the tabular data <code>acs.2020.population</code>. As is, these two data files exist side-by-side in the QGIS project. We need to ‘join’ these two files based on a common attribute. This is known as a ‘table join’. <strong>To start</strong>, <em>save</em> the project to update to the current data files.</li>
</ol>
<hr>
<ol start="14" type="1">
<li><strong>Next</strong>, preview the two attribute tables to determine the attribute join. In this case both contain the critical <code>GEOID</code> that is the US Census unique identifier across all census geographies:</li>
</ol>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://i.imgur.com/dblMHFx.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption"><em>Table Join Preparation</em></figcaption><p></p>
</figure>
</div>
<ul>
<li><em><code>asc.geo</code> = <code>GEOID_DATA</code></em></li>
</ul>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://i.imgur.com/DVNog8o.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption"><em>Table Join Preparation</em></figcaption><p></p>
</figure>
</div>
<ul>
<li><em><code>asc.2020.population</code> = <code>GEOID</code></em></li>
</ul>
<hr>
<ol start="15" type="1">
<li><strong>Inside</strong> <code>asc.geo</code>, <em>navigate</em> to <em>Properties &gt; Joins &gt; green plus button</em> and populate as follows:</li>
</ol>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://i.imgur.com/M4fZHh6.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption"><em>Table Join Preparation</em></figcaption><p></p>
</figure>
</div>
<hr>
<ol start="16" type="1">
<li><strong>A successful</strong> table join will result in the new population variable from the <code>asc.2020.population</code> now joined correctly to the <code>asc.geo</code> layer (far right field in image below). This table join is currently loaded in temporary memory. It must now be exported as a new <code>.shp</code> before proceeding:</li>
</ol>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://i.imgur.com/m41ER3B.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption"><em>Table Join Preparation</em></figcaption><p></p>
</figure>
</div>
<hr>
<ol start="17" type="1">
<li><strong>While</strong> exporting, we will drop fields not needed. We only need the name, GEOID, sq. miles and the population count:</li>
</ol>
<ul>
<li>name export <code>acs.2.map.shp</code>:</li>
</ul>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://i.imgur.com/t8RmfYE.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption"><em><code>.shp</code> Export</em></figcaption><p></p>
</figure>
</div>
<ul>
<li>Toogle ON fields to export:</li>
</ul>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://i.imgur.com/8riEqDt.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption"><em><code>.shp</code> Export</em></figcaption><p></p>
</figure>
</div>
<ul>
<li>Resulting feature:</li>
</ul>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://i.imgur.com/pGCo0oM.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption"><em><code>.shp</code> Export - Result</em></figcaption><p></p>
</figure>
</div>
<hr>
<ol start="18" type="1">
<li><strong>Next</strong>, the population count will be normalized to the sq. miles in the <code>acs.2.map.shp</code> feature. Create a new field via the <strong>Field Calculator</strong> and populate as follows. <strong>Proceed</strong> to <em>Toogle editing OFF</em> and save the new field:</li>
</ol>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://i.imgur.com/29e3X7L.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption"><em>Population Density Calculation in Field Calculator</em></figcaption><p></p>
</figure>
</div>
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p>Whole Number (integer) field type is selected as persons can only be whole numbers, not decimal numbers, i.e.&nbsp;there are only whole persons, not partial persons. There are approximately 30 counties that contain less than 1 person per sq. mile. These counties will simply receive a <code>0</code> and will be classed accordingly in the final thematic map.</p>
</div>
</div>
<hr>
<ol start="19" type="1">
<li><strong>With Data Preparation</strong> complete, move to thematic mapping and data classification. <strong>To start</strong>, <em>navigate</em> to symbology - <em>Properties &gt; Symbology &gt; Graduated &gt; Select Value <code>pop.den</code> &gt; Classify button at bottom</em>:</li>
</ol>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://i.imgur.com/bwLgBy5.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption"><em>Graduated Symbology - Equal Count - Quantile</em></figcaption><p></p>
</figure>
</div>
<hr>
<ol start="20" type="1">
<li>Population density variable towards the lowest class:</li>
</ol>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://i.imgur.com/cyDgayI.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption"><em>Cartographic Result</em></figcaption><p></p>
</figure>
</div>
<hr>
<ol start="21" type="1">
<li><strong>Rerun the classification using <em>quantile</em> method</strong>, results in a much more ‘balanced’ map across the 5 breaks, while still retaining the low population geographies of the <em>Natural Breaks</em> method:</li>
</ol>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://i.imgur.com/e3t85oI.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption"><em>Graduated Symbology - Natural Breaks</em></figcaption><p></p>
</figure>
</div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://i.imgur.com/SSv7mn7.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption"><em>Cartographic Result</em></figcaption><p></p>
</figure>
</div>
<hr>
<ol start="22" type="1">
<li>Finally, change the project map CRS to <code>North America Albers Equal Area Conic</code>. This will give the final map better areal representation - an ingredient that is important for choropleth mapping:</li>
</ol>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://i.imgur.com/KDssC5j.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption">Transform the project CRS</figcaption><p></p>
</figure>
</div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://i.imgur.com/II9FOoN.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption">Better areal representation with Albers CRS projection</figcaption><p></p>
</figure>
</div>
<hr>
<ol start="23" type="1">
<li><strong>Continue</strong> to final map layout and design. Utilize the Map Example for the layout items to be included in this assignment submission:</li>
</ol>
<ul>
<li><a href="https://weekly-materials.s3-us-west-1.amazonaws.com/c4.map.example.pdf">Assignment Map example</a></li>
</ul>
</section>
<section id="assignment-deliverable" class="level2">
<h2 class="anchored" data-anchor-id="assignment-deliverable">Assignment Deliverable:</h2>
<p>Produce final Map layout and design. Output as PDF 300 DPI 8.5”x11” or 11”x17” (use <code>.png</code> or <code>.tiff</code> if PDF at 300 DPI produces too large file size export). If pursuing the extra map II, follow the guidelines provided below, and again, produce map layout, design and output similar to the main map assignment.</p>
</section>
<section id="class-4-extra-credit-mapping" class="level2">
<h2 class="anchored" data-anchor-id="class-4-extra-credit-mapping">Class 4 Extra Credit Mapping:</h2>
<p>You are <em>strongly</em> encouraged to pursue the extra credit portion of the assignment for a top potential score of 100 points. While the required map above will feature basic demographic data at the county level, the extra credit map will feature a more tailored exploration of census data. In this extra credit mapping, you will utilize the same data source <a href="https://www.census.gov/geographies/mapping-files/time-series/geo/tiger-data.2020.html#list-tab-8D0FFIBS8PJO7C8Z1I">bundled US Census ACS product</a>. Instead of normalizing the data by areal units (population density per sq. miles), you will normalize the census theme by the theme universe population per US county.</p>
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p>There is also a 2021 version of the American Community Survey 5-Year Estimates; you are welcome to use this version for both the primary and extra credit mapping in place of the previous 2020 version. This 2021 version is located <a href="https://www.census.gov/geographies/mapping-files/time-series/geo/tiger-data.2021.html#list-tab-1656998034">HERE</a>.</p>
</div>
</div>
<p>The equation for this population normalization: <code>census theme count/census universe population*100</code></p>
<p>Like the main assignment, you can utilize the bundled <code>.gdb</code> format for the <a href="https://www.census.gov/geographies/mapping-files/time-series/geo/tiger-data.2020.html#list-tab-8D0FFIBS8PJO7C8Z1I">2020 version of the ACS 5-year survey</a>.</p>
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p>There is also a 2021 version of the American Community Survey 5-Year Estimates; you are welcome to use this version for both the primary and extra credit mapping in place of the previous 2020 version. This 2021 version is located <a href="https://www.census.gov/geographies/mapping-files/time-series/geo/tiger-data.2021.html#list-tab-1656998034">HERE</a>.</p>
</div>
</div>
<section id="video-guide" class="level3">
<h3 class="anchored" data-anchor-id="video-guide">Video Guide:</h3>
<p><strong>Assignment 4 Extra Credit - Thematic Mapping - normalization + classification methods:</strong></p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="https://vimeo.com/462198777"><img src="http://i.imgur.com/mPoKlbD.png" class="img-fluid figure-img"></a></p>
<p></p><figcaption class="figure-caption">video</figcaption><p></p>
</figure>
</div>
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p>The video guide uses ACS of a prior vintage. This should not impact generally the methdology of the assignment shown in the video.</p>
</div>
</div>
</section>
</section>
<section id="further-reference" class="level2">
<h2 class="anchored" data-anchor-id="further-reference">Further Reference:</h2>
<p>US Census Links:</p>
<ul>
<li><a href="http://factfinder.census.gov/faces/nav/jsf/pages/index.xhtml">American Factfinder</a></li>
<li><a href="https://www.census.gov/programs-surveys/acs/">American Community Survey - ACS</a></li>
<li><a href="https://www.census.gov/programs-surveys/acs/data.html">ACS DATA</a></li>
<li><a href="https://www.census.gov/geo/maps-data/data/tiger-line.html">US Census TIGER Geometry</a></li>
<li><a href="http://www.census.gov/data/developers/data-sets.html">Census APIs for developers</a></li>
</ul>
<p>Online tools &amp; utilities to aid thematic map design:</p>
<ul>
<li><a href="http://colorbrewer2.org/">Colobrewer 2 Classification Schemes</a><br>
</li>
<li><a href="http://eyetracking.upol.cz/color/">Sequential Class Color Tool</a></li>
<li><a href="https://www.ordnancesurvey.co.uk/blog/2017/02/carto-tips-using-blend-modes-opacity-levels/">Adjusting Opacity Levels</a></li>
</ul>
<p>Helpful articles and resources for census data and thematic mapping techniques:</p>
<ul>
<li><a href="http://desktop.arcgis.com/en/arcmap/10.3/map/working-with-layers/classifying-numerical-fields-for-graduated-symbols.htm">Classification methods in ArcGIS</a></li>
<li><a href="http://www.esri.com/news/arcuser/0206/files/normalize2.pdf">Normalizing Census Data using ArcMap</a></li>
<li><a href="https://www.theatlantic.com/business/archive/2017/09/new-census-data-shows-more-americans-emerging-from-poverty/539589/">September 2017 Census Poverty Demographics</a></li>
<li><a href="https://anitagraser.com/2012/11/18/improving-population-density-maps-using-dasymetric-mapping/">Overview of Dasymetric Thematic Mapping techniques</a></li>
<li><a href="https://flowingdata.com/2017/06/07/how-histograms-work/">How Histograms Work</a></li>
<li><a href="http://sqlzoo.net/wiki/SQL_Tutorial">SQL ZOO cheatsheet and tutorial for SQL queries</a></li>
<li><a href="https://www.robertniles.com/stats/percap.shtml">Per Capita, Rates and Comparisons</a></li>
</ul>
<p>Case Study - The Marshall Project:</p>
<ul>
<li><p><a href="https://www.themarshallproject.org/2021/09/20/there-are-fewer-people-behind-bars-now-than-10-years-ago-will-it-last">The Marshall Project</a></p></li>
<li><p>The Marshall Project extracted the number of adults in correctional facilities per county from the 2000, 2010 and 2020 Decennial Census.</p></li>
</ul>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://i.imgur.com/hUYg9oF.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption"><em>U.S. County distribution of Incarcerated Populations</em></figcaption><p></p>
</figure>
</div>
<ul>
<li>The data can be downloaded <a href="https://observablehq.com/@themarshallproject/adults-in-correctional-facilities-from-decennial-census">HERE</a> and <a href="https://raw.githubusercontent.com/themarshallproject/incarceration-census/main/census_incarceration.csv">HERE</a></li>
</ul>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://i.imgur.com/KlFoDLH.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption"><em>Data Fields in the Dataset</em></figcaption><p></p>
</figure>
</div>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var filterRegex = new RegExp(/^(?:http:|https:)\/\/www\.quarto\.org\/custom/);
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
    var links = window.document.querySelectorAll('a:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
          // target, if specified
          link.setAttribute("target", "_blank");
          // default icon
          link.classList.add("external");
      }
    }
});
</script>
</div> <!-- /content -->



<script src="c4_assignment_sp_24_NINT5380_files/libs/quarto-html/zenscroll-min.js"></script>
</body></html>